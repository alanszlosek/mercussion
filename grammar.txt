score: details instruments | instruments

details: detail string details

detail: "author:" | "tempo:" | "timesignature:" | "title:" 

instruments: instrument instruments | instrument

instrument: "snare:" snareMusic | "bass:" bassTenorMusic | "tenor:" bassTenorMusic | "cymbal:" cymbalMusic


// snare
snareMusic: snareMeasure "|" snareMusic |  snareMeasure

snareMeasure: snareBeat space* snareMeasure | snareBeat

snareBeat: snareNotes ':' sticking | snareNotes

snareNotes: snareNote snareNotes | snareNote

snareNote: snareModifers snareSurface | snareSurface

snareModifiers: snareModifier snareModifiers | snareModifier

snareModifier: dynamicModifier | [,-=]

snareSurface: [hHxXrRbBsSgG] | rest


// bass and tenors
bassTenorMusic: bassTenorMeasure "|" bassTenorMusic | bassTenorMeasure

bassTenorMeasure: bassTenorBeat space* bassTenorMeasure | bassTenorBeat

bassTenorBeat: bassTenorNotes ':' sticking | bassTenorNotes

bassTenorSimultaneousNotes: bassTenorNote bassTenorSimultaneousNotes | bassTenorNote

bassTenorNotes: bassTenorNote bassTenorNotes | bassTenorNote

bassTenorNote: bassTenorModifers bassTenorSurface | bassTenorSurface

bassTenorModifiers: bassTenorModifier bassTenorModifiers | bassTenorModifier

bassTenorModifier: dynamicModifier | [,-=*]

bassTenorSurface: [aAbBcCdDeEuU] | rest



// gar ... get the combos right is a bitch
bassTenorBeat: "(" bassTenorSimultaneousNotes ")" bassTenorBeat | "[" bassTenorBeat2 "]" bassTenorBeat |
	bassTenorNote bassTenorBeat | bassTenorNote
bassTenorBeat2: "(" bassTenorSimultaneousNotes ")" bassTenorBeat | bassTenorNote bassTenorBeat | bassTenorNote




dynamicModifier: [PMFG<>]

stickingModifier: [rl]

rest: '.'


tuplet_begin: "["

tuplet_end: "]"

string: [a-zA-Z0-9_-]+ | '"' .* '"'
