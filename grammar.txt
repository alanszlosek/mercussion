score: details instruments | instruments

details: detail string details

detail: "author:" | "tempo:" | "timesignature:" | "title:" 

instruments: instrument instruments | instrument

instrument: "bass:" bassMusic | "cymbal:" cymbalMusic | "snare:" snareMusic | "tenor:" tenorMusic


// snare
snareMusic: snareMeasure "|" snareMusic |  snareMeasure

snareMeasure: snareBeat space* snareMeasure | snareBeat

snareBeat: snareNotes ':' sticking | snareNotes

snareNotes: snareNote snareNotes | snareNote

snareNote: snareModifers snareSurface | snareSurface

snareModifiers: snareModifier snareModifiers | snareModifier

snareModifier: dynamicModifier | [,-=]

snareSurface: [hHxXrRbBsSgG] | rest


// tenor
tenorMusic: tenorMeasure "|" tenorMusic | tenorMeasure

tenorMeasure: tenorBeat space* tenorMeasure | tenorBeat

tenorBeat: tenorNotes ':' sticking | tenorNotes

tenorSimultaneousNotes: tenorNote tenorSimultaneousNotes | tenorNote

tenorNotes: tenorNote tenorNotes | tenorNote

tenorNote: tenorModifers tenorSurface | tenorSurface

tenorModifiers: tenorModifier tenorModifiers | tenorModifier

tenorModifier: dynamicModifier | [,-=*]

tenorSurface: [aAbBcCdDeEuU] | rest


// bass
bassMusic: bassMeasure "|" bassMusic | bassMeasure

bassMeasure: bassBeat space* bassMeasure | bassBeat

bassBeat: bassNotes ':' sticking | bassNotes

bassSimultaneousNotes: bassNote bassSimultaneousNotes | bassNote

bassNotes: bassNote bassNotes | bassNote

bassNote: bassModifers bassSurface | bassSurface

bassModifiers: bassModifier bassModifiers | bassModifier

bassModifier: dynamicModifier | [,-=*]

bassSurface: "[" bassSurface2* "]" | bassSurface2 | rest

bassSurface2: [aAbBcCdDeEuU]



dynamicModifier: [PMFG<>]

stickingModifier: [rl]

rest: '.'


tuplet_begin: "["

tuplet_end: "]"

string: [a-zA-Z0-9_-]+ | '"' .* '"'
